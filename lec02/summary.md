# 並列分散処理講義まとめ
## プロセスとメッセージ
プロセスまたは計算機を**ノード**と呼ぶ
交換されるデータを**メッセージ**と呼ぶ

## 通信プリミティブ
メッセージを送受信するライブラリ関数やシステムコール関数を**通信プリミティブ**と呼ぶ．
    例）send, receive

結合:相手と接続を確立すること
接続：宛先に相手がいること，プロトコル，ポート，お互いの準備を確認

**データグラム**
結合なしで一塊のメッセージを送受信
信頼性ない
順序保障ない
**ストリーム**
結合が作られるTCPで提供
信頼性あり
順序保証なし

## アドレス指定の方法
直接 : 送信側が受信するプロセスを直接指定
関節 : 「メールボックス」や「キュー」などを指定し、そこにメッセージを送る。
    複数のプロセスが同じメールボックスを共有できる

## 同期式，非同期式
**同期式**
    sendでは相手がreceiveするまで処理が停止
    receiveでは受け取るまで処理が停止
**非同期式**
    sendではメッセージのバッファリンクを行い，相手の受信を待たずに処理を先に進める
    receiveではメッセージが受信されていなくても処理をすすめる

バッファリンクとは送信データをOSが持っているメモリにメッセージをコピーすること．

コピーされたデータは，再送処理やOSに都合の良いタイミングで送信される

## キャスト
- ユニキャスト：1対1の通信
- マルチキャスト：送信側プロセス1つに対して受信側が複数．
    これは受信したいと思っているプロセスだけにメッセージを届ける
- ブロードキャスト：特定の物理的な通信媒体に接続しているプロセスすべてにメッセージを送ること

## 帯域保障
毎秒どのくらいのデータが送ることができるかを保証すること
## 遅延保障
sendしてからreceiveするまで最長どのくらいの時間がかかるかを保証すること

## 整列化
メモリ上に散らばって保存されているデータを，ネット
ワークに流すときに都合がよいように，ひとかたまりに
まとめること

例）構造体の要素がポインタ型の時構造体のメモリ領域とは別に，その変数のなかみがある．

##　バイトオーダー
分散プログラムでは，整数を送る場合でもバイトオーダに気をつける必要がある

よって
    送信側，受信側で変換する
    標準的なバイトオーダーを定める

現在のネットワークバイトオーダーとしてはビッグエンディアンが主流

文字コードも同様

## 認証とアクセス制御
認証とは，情報の正当性や完全性を確保する技術
    利用者認証：アクセスしている人物が本人であるかどうか確認すること
    ディジタル署名：送られたメッセージが利用者本人が出したものかどうかを確認する

###　アクセス制御
三つの概念
    主体：利用者又はプロセス
    客体：ファイルやディレクトリなどOSレベルのもの
        　メールボックスやURLなどAPレベルのもの
    操作：読み書き実行

SSO　一つのログインで複数のアプリケーションやサービスに対してアクセス可能になる特性や機能

主流はオブジェクト側に，主体と可能な操作の組のリストを持たせる場合が多いが

ケーパビリティ
主体にアクセス制御の設定を持たせる方法
    ケーパビリティはほかのプロセスに渡すことができる性質を持つ

最近は，SSL通信により，Webサーバとの通信が暗号化
されることが推奨

署名者は秘密鍵を用いて署名しメッセージを送る
検証者は公開鍵をつかってメッセージと署名を計算し結果の一致を確認する

公開鍵証明書を用いた認証
送信者は公開鍵証明書の要求
受信者は公開鍵証明書の送付
送信者は公開鍵を用いた検証
公開鍵を用いた暗号化通信の開始

##　クライアントサーバモデル
自由に分散プログラムを記述
クライアントサーバモデルの定義
 クライアント
 サービスを受ける用のプロセス
 能動的
 サーバ
 サービスを提供する方のプロセス
 多くの場合，複数のクライアントにサービスを提供
 受動的
 要求メッセージ： クライアントからサーバに送られる
 応答メッセージ： サーバからクライアントに送られる

## ソケットAPI
TCP/IPをBSD系UNIXに導入するときに設計されたAPI

##　遠隔手続き呼び出し(RPC)
手続き呼び出しの形でプロセス間通信を行う方法
プログラマは，直接sendやdo_operationなど
の通信プリミティブを呼び出すプログラムを記述することはない

## スタブ

- クライアント側スタブ
名前，引数，結果の型がインタフェースとなる手続きと
同じ
内容： 引数の整列化，要求メッセージ作成，送信，
サーバ側からの応答待ち，応答メッセージの非整列
化，結果を返す

- サーバ側スタブ
 普段は，要求メッセージを待っている
 要求メッセージを受け取ると，非整列化して引数を取
り出し，実際の手続きを呼び出す
 呼び出した手続きの結果を整列化し，応答メッセージ
としてクライアント側に返す

バインディング
クライアントとサーバの対応関係を個々の手続き呼び出し前に決定すること

クライアントは利用可能な複数のサーバから選ぶことができる
バインディングはサーバ側で動作しているポートマッパというプログラムの助けを借りる
プログラミング番号とバージョン番号の二つの整数でサーバを識別する
クライアントがポートマッパにポート番号を問い合わせ，受け取ったポート番号に接続する

## NFS
Sun Microsystems社が開発したネットワークファイル
システム
## v2
    write関数は同期書き込み
    無状態なのでクラッシュしても失うものはない
    read，writeの引数にはファイル中の読み書きする位置が含まれる
    毎回ディスクに書き込む

## v3
    writeではディスクに書き込まなくてもよい
    commitとという手続きでディスク書き込み
## v4
    複数のNFS手続きを1回の遠隔手続き呼び出しの中
    でまとめて実行可能
    通信遅延が大きいネットワークでも効率よく動作

##　SMBプロトコル/CIFSプロトコル
Microsoft Windowsで用いられているネットワークファイルシステム

##　分散共有メモリ
ハードウェアで共有メモリがないシステムで，プロセス間の共有メモリを実現する機能
ハードウェアで共有メモリがないシステムで，プロセス間の共有メモリを実現する機能